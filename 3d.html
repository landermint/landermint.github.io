<html lang="en"><head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta charset="UTF-8">
  
<link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png">
<meta name="apple-mobile-web-app-title" content="CodePen">

<link rel="shortcut icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico">

<link rel="mask-icon" type="" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-8f3771b1072e3c38bd662872f6b673a722f4b3ca2421637d5596661b4e2132cc.svg" color="#111">


  <title>CodePen - Three.js GLTF Loader</title>
  
  
  
  
<style>
body {
  font-family: Monospace;
  background: #ccc;
  color: #fff;
  margin: 0px;
  overflow: hidden;
}
h3 {
  font-weight: normal;
}
#info {
  color: #fff;
  position: absolute;
  top: 10px;
  width: 100%;
  text-align: center;
  z-index: 100;
  display: block;
}
#info a {
  color: #75ddc1;
  font-weight: bold;
}
</style>

  <script>
  window.console = window.console || function(t) {};
</script>

  
  
  <script>
  if (document.location.search.match(/type=embed/gi)) {
    window.parent.postMessage("resize", "*");
  }
</script>


<style></style></head>

<body translate="no">


<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r124/three.min.js"></script>
<script src="https://unpkg.com/three@0.126.0/examples/js/loaders/GLTFLoader.js"></script>
<script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
<script src="https://threejs.org/examples/js/loaders/DRACOLoader.js"></script>
    <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-8216c69d01441f36c0ea791ae2d4469f0f8ff5326f00ae2d00e4bb7d20e24edb.js"></script>

  
      <script id="rendered-js">

      		var target = new THREE.Vector3();



var mouseX = 0, mouseY = 0;

var windowHalfX = window.innerWidth / 2;
var windowHalfY = window.innerHeight / 2;



function someFunction(e){
	if(e.type == 'touchstart' || e.type == 'touchmove' || e.type == 'touchend' || e.type == 'touchcancel'){
	    var evt = (typeof e.originalEvent === 'undefined') ? e : e.originalEvent;
	    var touch = evt.touches[0] || evt.changedTouches[0];
	    mousex = touch.pageX;
	    mousey = touch.pageY;
	} else if (e.type == 'mousedown' || e.type == 'mouseup' || e.type == 'mousemove' || e.type == 'mouseover'|| e.type=='mouseout' || e.type=='mouseenter' || e.type=='mouseleave') {
	    mousex = e.clientX;
	    mousey = e.clientY;
	}
}

function onDocumentMouseMove( event ) {

    //mouseX = ( event.clientX - windowHalfX );
   // mouseY = ( event.clientY - windowHalfY )-200;

}

//===================================================== canvas
var renderer = new THREE.WebGLRenderer({ alpha: true, antialiase: true });
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

//===================================================== scene
var scene = new THREE.Scene();

//===================================================== camera
var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
camera.position.z = 5;
camera.position.y = 1.5;
/*
//===================================================== lights
var light = new THREE.DirectionalLight(0xefefff, 3);
light.position.set(1, 1, 1).normalize();
scene.add(light);
var light = new THREE.DirectionalLight(0xffefef, 3);
light.position.set(-1, -1, -1).normalize();
scene.add(light);

var light = new THREE.DirectionalLight(0xffefef, 3);
light.position.set(-1, -1, 1).normalize();
scene.add(light);
*/
//===================================================== resize
window.addEventListener("resize", function () {
  let width = window.innerWidth;
  let height = window.innerHeight;
  renderer.setSize(width, height);
  camera.aspect = width / height;
  camera.updateProjectionMatrix();
});


//===================================================== model
var loader = new THREE.GLTFLoader();
var mixer;
var model;

var dracoLoader = new THREE.DRACOLoader();

dracoLoader.setDecoderPath( 'https://threejs.org/examples/js/libs/draco//' )
loader.setDRACOLoader( dracoLoader );

loader.load(
"scene.gltf", function (gltf) {

  gltf.scene.traverse(function (node) {
    if (node instanceof THREE.Mesh) {
      node.castShadow = true;
      node.material.side = THREE.DoubleSide;
    }
  });


  model = gltf.scene;
  model.scale.set(.01, .01, .01);
  scene.add(model);
  model.position.y = 1.2;





});


//===================================================== animate
var clock = new THREE.Clock();
function render() {
  requestAnimationFrame(render);
  var delta = clock.getDelta();
  if (mixer != null) mixer.update(delta);
  if (model) {
  	//model.rotation.y += 0.025;
  	if (window.innerWidth > 900){
  	    target.x += ( mouseX - target.x ) * .005;
  	    target.y += ( - mouseY - target.y ) * .007;
	    target.z = camera.position.z+200; // assuming the camera is located at ( 0, 0, z );
	    target.x = target.x/1.1;
	    target.y = target.y/1.1;
    } else {
    	  	    target.x += ( mouseX - target.x ) * .011;
  	    target.y += ( - mouseY - target.y ) * .009;
	    target.z = camera.position.z+200; // assuming the camera is located at ( 0, 0, z );
	     target.x = target.x/1.02;
	     target.y = target.y/1.03;
    }
    model.lookAt( target );


  }

  renderer.render(scene, camera);
}

render();
//# sourceURL=pen.js
    document.addEventListener( 'mousemove', onDocumentMouseMove, false );


window.addEventListener('touchstart', someFunction, false);
window.addEventListener('touchmove', someFunction, false);
window.addEventListener('touchend', someFunction, false);
window.addEventListener('touchcancel', someFunction, false);
window.addEventListener('mousedown', someFunction, false);
window.addEventListener('mouseup', someFunction, false);
window.addEventListener('mousemove', someFunction, false);
window.addEventListener('mouseover', someFunction, false);
window.addEventListener('mouseout', someFunction, false);
window.addEventListener('mouseenter', someFunction, false);
window.addEventListener('mouseleave', someFunction, false);

    </script>

  




 
</body></html>